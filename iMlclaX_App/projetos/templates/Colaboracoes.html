{% extends "base.html" %}
<!doctype html>
<html lang="pt-BR">

{% block 'head' %}

  <title>iMoleculaX</title>

{% endblock 'head' %}

{% block 'body' %}  

    <div class="wrapper">

        <main id="main" class="main">
      
            {% for message in messages %}
                <section class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
                    <i class="bi 
                        {% if message.tags == 'success' %}bi-check-circle-fill text-success
                        {% elif message.tags == 'error' %}bi-x-circle-fill text-danger
                        {% elif message.tags == 'warning' %}bi-exclamation-triangle-fill text-warning
                        {% else %}bi-info-circle-fill text-info{% endif %}
                    "></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </section>
            {% endfor %}
            
            <section class="section">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title"><a data-tooltip='Relação de Colaboradores' class="icon">Colaboradores</a></h5>
                                {% if messages %}
                                    <br>
                                    {% for message in messages %}
                                        <section class="alert {{message.tags}}">
                                            {{message}}
                                        </section>
                                    {% endfor %}
                                {% endif %}
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="VGeral-tab" data-bs-toggle="tab" data-bs-target="#VGeral" type="button" role="tab" aria-controls="VGeral" aria-selected="true">Visão Geral</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="perfi-tab" data-bs-toggle="tab" data-bs-target="#perfi" type="button" role="tab" aria-controls="perfi" aria-selected="false">Perfil</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="endereco-perfil-tab" data-bs-toggle="tab" data-bs-target="#endereco-perfil" type="button" role="tab" aria-controls="endereco-perfil" aria-selected="false">Endereço</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="config-tab" data-bs-toggle="tab" data-bs-target="#config" type="button" role="tab" aria-controls="config" aria-selected="false">Configurações</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="foto-perfil-tab" data-bs-toggle="tab" data-bs-target="#foto-perfil" type="button" role="tab" aria-controls="foto-perfil" aria-selected="false">Foto Perfil</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="#AltrrPswrd-tab" data-bs-toggle="tab" data-bs-target="#AltrrPswrd" type="button" role="tab" aria-controls="#AltrrPswrd" aria-selected="false">Alterar Senha</button>
                                    </li>
                                </ul>

                                <!-- Table with stripped rows -->
                                <table class="table datatable table-borderless">
                                {% if RlcaoDClntes %}
                                    <thead>
                                        <tr>
                                            <th scope="col">Cliente</th>
                                            <th scope="col">Usuário</th>
                                            <th scope="col">eMail</th>
                                        </tr>
                                        </tr>
                                    </thead>
                                {% endif %}
                                    <tbody>
                                        {% for cliente in RlcaoDClntes  %}
                                            <tr data-url-base="{% url 'url_clnts_edit' 0 %}" id="{{ cliente.id }}" onClick="acssaClnts_edit(this);" id="{{ cliente.id }}" style="cursor:pointer;">
                                                <td><a href="{% url 'url_clnts_edit' cliente.id %}">{{cliente.first_name}} {{cliente.last_name}}</a></td>
                                                <td><a href="{% url 'url_clnts_edit' cliente.id %}">{{cliente.username}}</a></td>
                                                <td><a href="{% url 'url_clnts_edit' cliente.id %}">{{cliente.email}}</a></td>
                                            </tr>
                                        {% empty %} 
                                            <p>Nenhum registro encontrado.</p>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <!-- End Table with stripped rows -->

                            </div>
                        </div>

                    </div>
                </div>
            </section>

        </main><!-- End #main -->
    </div>    


    <script language="JavaScript">
		<!--

            function acssaClnts_edit(obj) {
                let base = obj.getAttribute('data-url-base');
                // remove o "0/" final e substitui pelo ID real
                base = base.replace(/0\/?$/, obj.id + '/');
                window.open(base, '_self');
            }

		//-->
	</script>
  
 
    <!--Ativa as opções do menu principal esquerdo -->
    <script language="JavaScript">
        <!--
            document.getElementById('Projetos-nav').className ='nav-content collapse show';
            document.getElementById('sidebar-nav-clbrcao-Projetos').className ='active';
        //-->
    </script>


{% endblock 'body' %}

